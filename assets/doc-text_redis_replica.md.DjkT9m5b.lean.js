import{_ as e,c as l,a2 as s,o as a}from"./chunks/framework.3VuPyQdv.js";const r="/docs-demo/redisImages/image-20250416160335729.png",m="/docs-demo/redisImages/image-20250416165241212.png",o="/docs-demo/redisImages/image-20250416165307679.png",t="/docs-demo/redisImages/image-20250416165412427.png",c="/docs-demo/redisImages/image-20250416165619557.png",g="/docs-demo/redisImages/image-20250416165720318.png",d="/docs-demo/redisImages/image-20250416165819294.png",n="/docs-demo/redisImages/image-20250416165901873.png",p="/docs-demo/redisImages/image-20250416170002549.png",_="/docs-demo/redisImages/image-20250416170101192.png",u="/docs-demo/redisImages/image-20250416170152373.png",f="/docs-demo/redisImages/image-20250416170236656.png",I="/docs-demo/redisImages/image-20250416170351266.png",h="/docs-demo/redisImages/image-20250416170415481.png",v="/docs-demo/redisImages/image-20250416170638143.png",S=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"doc-text/redis/replica.md","filePath":"doc-text/redis/replica.md","lastUpdated":1744815719000}'),x={name:"doc-text/redis/replica.md"};function P(q,i,b,k,$,B){return a(),l("div",null,i[0]||(i[0]=[s('<h2 id="复制-replica" tabindex="-1">复制（replica） <a class="header-anchor" href="#复制-replica" aria-label="Permalink to &quot;复制（replica）&quot;">​</a></h2><p>就是主从复制，master以写为主，slave以读为主。当master数据变化的时候，自动将新的数据异步同步到其他slave数据库</p><p>优点：</p><ul><li>读写分离</li><li>容灾恢复</li><li>数据备份</li><li>水平扩容支撑高并发</li></ul><p>如何使用</p><ul><li>配从（库）不配主（库）</li><li>权限细节，重要 <ul><li>master 如果配置了 requirepass 参数，需要密码登录</li><li>那么 slave 就要配置 masterauth 来设置校验密码，否则的话 master 会拒绝 slave的访问请求 <ul><li><img src="'+r+'" alt="image-20250416160335729"></li></ul></li></ul></li><li>基本操作命令 <ul><li>info replication：可以查看复制节点的主从关系和配置信息</li><li>replicaof 主库IP 主库端口：一般写入进 redis.conf 配置文件内</li><li>slaveof 主库IP 主库端口 <ul><li>每次与 master 断开之后，都需要重新连接，除非你配置进 redis.conf 文件</li><li>在运行期间修改 slave 节点的信息，如果该数据库已经是某个主数据库的从数据库，那么会停止和原主数据库的同步关系<strong>转而和新的主数据库同步，重新拜主数据库</strong></li></ul></li><li>slaveof no one：使当前数据库停止与其他数据库的同步，<strong>转成主数据库，自立为王</strong></li></ul></li></ul><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><ul><li>架构说明 <ul><li>一个 master 两个 slave</li><li>拷贝多个redis.conf 文件 <ul><li>redis6379.conf</li><li>redis6380.conf</li><li>redis6381.conf <ul><li><img src="'+m+'" alt="image-20250416165241212"></li><li><img src="'+o+'" alt="image-20250416165307679"></li><li><img src="'+t+'" alt="image-20250416165412427"></li></ul></li></ul></li><li>修改配置文件 <ul><li>以redis6380为例，redis6381跟redis6380一样 <ul><li><img src="'+c+'" alt="image-20250416165619557"></li><li><img src="'+g+'" alt="image-20250416165720318"></li><li><img src="'+d+'" alt="image-20250416165819294"></li><li><img src="'+n+'" alt="image-20250416165901873"></li><li><img src="'+p+'" alt="image-20250416170002549"></li><li><img src="'+_+'" alt="image-20250416170101192"></li><li><img src="'+u+'" alt="image-20250416170152373"></li><li><img src="'+f+'" alt="image-20250416170236656"></li><li><img src="'+I+'" alt="image-20250416170351266"></li><li><img src="'+h+'" alt="image-20250416170415481"></li><li><img src="'+v+'" alt="image-20250416170638143"></li></ul></li></ul></li></ul></li></ul>',8)]))}const D=e(x,[["render",P]]);export{S as __pageData,D as default};
